<form ng-controller="upd" name="cusFrm">
    <span style="font-weight: bold">{{lbl.txt.update}} {{lbl.txt.cus}}</span>
    <input type="button" value="{{lbl.btn.sav}}" ng-click="do_sav()" ng-disabled="cusFrm.$invalid"/>
    <input type="button" value="{{lbl.btn.can}}" ng-click="do_can()"/>
    <input type="button" value="{{lbl.btn.reset}}" ng-click="do_reset()"/>
    <input type="button" value="{{lbl.btn.vdt}}" ng-click="do_vdt()"/>
    <span ng-if="updMsg.isOk===true||updMsg.isOk===false">
        <input type="button" value=" X " ng-click="updMsg.isOk=null"
               style="border: 1px solid black"/> {{updMsg.isOk?lbl.txt.chkOk:lbl.txt.chkFail}}</span>
    <table border="2px">
        <tr>
            <td style="font-weight:bold">{{lbl.fld.cusCd}}
            <td class="readOnly">{{data.cusDro.cusCd}}
            <td>
        <tr>
            <td style="font-weight:bold">{{lbl.fld.inpCd}}
            <td><input name="inpCd" autofocus g-maxlength="30" ng-model="data.cusDro.inpCd" type="text" required>
            <td><span class="error" ng-show="cusFrm.inpCd.$error.required">{{lbl.msg.req}}</span>
        <tr>
            <td style="font-weight:bold">{{lbl.fld.chiShtNm}}
            <td><input ng-model="data.cusDro.chiShtNm" ng-maxlength="255" type="text"/>
            <td>
        <tr>
            <td style="font-weight:bold">{{lbl.fld.engShtNm}}
            <td><input ng-model="data.cusDro.engShtNm" ng-maxlength="255" type="text"/>
            <td>
        <tr>
            <td style="font-weight:bold">{{lbl.fld.chiNm}}
            <td><input ng-model="data.cusDro.chiNm" ng-maxlength="255" type="text"/>
            <td>
        <tr>
            <td style="font-weight:bold">{{lbl.fld.engNm}}
            <td><input ng-model="data.cusDro.engNm" ng-maxlength="255" type="text"/>
            <td>
        <tr>
            <td style="font-weight:bold">{{lbl.fld.cusTy}}
            <td><input ng-model="data.cusDro.cusTy" ng-maxlength="30" type="text"/>
            <td>
        <tr>
            <td style="font-weight:bold">{{lbl.fld.rmk}}
            <td><textarea ng-model="data.cusDro.cusRmk"></textarea>
            <td>
    </table>
    <br>
    <input type="button" value="{{lbl.btn.add}}" ng-click="do_addAdr()"/>
    <br><br>
    <!------------------------------------------------------------------------------------>
    <span style="font-weight:bold">{{lbl.txt.delv}}</span>
    <input type="button" value="{{lbl.btn.v1Adr}}" ng-click="do_view(1)" class="{{view1?'selected':''}}"/>
    <input type="button" value="{{lbl.btn.v2XY}}" ng-click="do_view(2)" class="{{view2?'selected':''}}"/>
    <input type="button" value="{{lbl.btn.v3Car}}" ng-click="do_view(3)" class="{{view3?'selected':''}}"/>
    <input type="button" value="{{lbl.btn.v4Tim}}" ng-click="do_view(4)" class="{{view4?'selected':''}}"/>
    <table border="2px">
        <tr>
            <th>{{lbl.btn.dlt}}
            <th>{{lbl.btn.rea}}
            <th>{{lbl.btn.dea}}
            <th>##
            <th colspan="2"> {{lbl.fld.adrCd}}
            <th ng-if="view1"> {{lbl.fld.inpCd}}
            <th ng-if="view1"> {{lbl.fld.adrNm}}
            <th ng-if="view1" colspan="2"> {{lbl.fld.adr}}
            <th ng-if="view1"> {{lbl.fld.contact}}
            <th ng-if="view1"> {{lbl.fld.phone}}
            <th ng-if="view1" colspan="4"> {{lbl.fld.regCd}}
                <div>{{lbl.txt.cpyFmAbove}}</div>
            <th ng-if="view2"> {{lbl.fld.inpCd}}
            <th ng-if="view2"> {{lbl.fld.adrNm}}
            <th ng-if="view2"> {{lbl.fld.adr}}
            <th ng-if="view2"> {{lbl.fld.gpsX}}
            <th ng-if="view2"> {{lbl.fld.gpsY}}
            <th ng-if="view3"> {{lbl.fld.adrNm}}
            <th ng-if="view3"> {{lbl.fld.adr}}
            <th ng-if="view3"> {{lbl.fld.truckTones}}
            <th ng-if="view3"> {{lbl.fld.truckCold}}
            <th ng-if="view3"> {{lbl.fld.truckFlat}}
            <th ng-if="view3"> {{lbl.fld.truckVan}}
            <th ng-if="view3"> {{lbl.fld.truckClose}}
            <th ng-if="view3"> {{lbl.fld.truckTail}}
            <th ng-if="view3"> {{lbl.fld.truckUpstair}}
            <th ng-if="view3"> {{lbl.fld.truckDispatchAtDoor}}
            <th ng-if="view3"> {{lbl.fld.truckByBox}}
            <th ng-if="view3"> {{lbl.fld.truckByPallet}}
            <th ng-if="view3"> {{lbl.fld.truckLock}}
            <th ng-if="view4"> {{lbl.fld.adrNm}}
            <th ng-if="view4"> {{lbl.fld.adr}}
            <th ng-if="view4"> {{lbl.fld.delvTimFm}}
            <th ng-if="view4"> {{lbl.fld.delvTimTo}}
            <th ng-if="view4"> {{lbl.fld.delvLasTim}}
            <th ng-if="view4" colspan="2"> {{lbl.fld.pickAdrCd}}
                <div>{{lbl.txt.cpyFmAbove}}</div>
            <th ng-if="view4"> {{lbl.fld.rmk}}
        <tr class=" i.isDea?'dim':'' " ng-repeat="i in data.adrDt">
            <td><input type="button" value="{{lbl.btn.dlt}}" ng-if="i.shwDlt" ng-click="do_dltAdr()"/>
            <td><input type="button" value="{{lbl.btn.dea}}" ng-if="i.shwDea" ng-click="do_deaAdr()"/>
            <td><input type="button" value="{{lbl.btn.rea}}" ng-if="i.shwRea" ng-click="do_reaAdr()"/>
            <td>{{($index + 1)}}
            <td><input class="{{i.newRec?'':'readOnly'}}" ng-readonly="!i.newRec" type="text"
                       size="3" ng-model="i.adrCd" name="{{'adrCd'+$index}}" required/>
            <td><span ng-if="cusFrm['adrCd'+$index].$error.required" class="error">{{lbl.msg.req}}</span>
                <span class="error">{{updMsg.erMsg.adrDt[$index].adrCd}}</span>
            <td ng-if="view1"><input type="text" size="6" ng-model="i.inpCd"/>
            <td ng-if="view1"><input type="text" size="10" ng-model="i.adrNm"/>
            <td ng-if="view1"><textarea ng-model="i.adr" name="{{'adr'+$index}}" required></textarea>
            <td ng-if="view1"><span ng-if="cusFrm['adr'+$index].$error.required" class="error">{{lbl.msg.req}}</span>
            <td ng-if="view1"><input type="text" size="10" ng-model="i.contact" wraptext/>
            <td ng-if="view1"><input type="text" size="10" ng-model="i.phone" wraptext/>

            <td ng-if="view1"><input type="button" value="!==>" ng-if="$index!=0"
                                     ng-click="do_cpyFmAbove('regCd',$index)"/>
            <td ng-if="view1"><input type="text" size="10" ng-model="i.regCd" readonly class="readOnly"
                                     name="{{'regCd'+$index}}" required/>
            <td ng-if="view1"><input type="button" ng-mouseenter="do_shwSelReg($event,$index)" ng-value="lbl.btn.sel"/>

            <td ng-if="view1"><span ng-if="cusFrm['regCd'+$index].$error.required" class="error">{{lbl.msg.req}}</span>
            <td ng-if="view2" class="readOnly">{{i.inpCd}}
            <td ng-if="view2" class="readOnly">{{i.adrNm}}
            <td ng-if="view2" class="readOnly">{{i.adr}}
            <td ng-if="view2"><input type="text" size="5" ng-model="i.gpsX"/>
            <td ng-if="view2"><input type="text" size="5" ng-model="i.gpsY"/>
            <td ng-if="view3" class="readOnly">{{i.adrNm}}
            <td ng-if="view3" class="readOnly">{{i.adr}}
            <td ng-if="view3"><input type="text" size="3" ng-model="i.truckTones"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckCold"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckFlat"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckVan"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckClose"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckTail"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckUpstair"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckDispatchAtDoor"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckByBox"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckByPallet"/>
            <td ng-if="view3"><input type="checkbox" ng-model="i.truckLock"/>
            <td ng-if="view4" class="readOnly">{{i.adrNm}}
            <td ng-if="view4" class="readOnly">{{i.adr}}
            <td ng-if="view4"><input type="text" size="5" ng-model="i.delvTimFm"/>
            <td ng-if="view4"><input type="text" size="5" ng-model="i.delvTimTo"/>
            <td ng-if="view4"><input type="text" size="5" ng-model="i.delvLasTim"/>
            <td ng-if="view4"><input type="button" value="!==>" ng-click="do_cpyFmAbove('pickAdrCd', $index)"
                                     ng-if="$index!=0"/>
            <td ng-if="view4"><input type="text" size="9" ng-model="i.pickAdrCd"/>
            <td ng-if="view4"><input type="text" ng-model="i.rmk"/>
    </table>
    <ng-include src="'../region/selReg.html'"/>
</form>
